# 사례 연구: 비디오 판매
 지금까지 살펴본 아키텍처에 대한 규칙과 견해를 종합하여 사례 연구에 적용해 보자.
 
 ## 제품
  - 아키텍처를 적용해볼 사례로 소프트웨어 튜토리얼 비디오를 판매하는 소프트웨어이다.
  - 판매하길 원하는 비디오가 있고, 개인과 기업에게 웹을 통하여 판매한다. 
  - 개인은 가격을 지불하고 스트리밍으로 보거나 다운로드를 할 수 있고, 기업은 라이선스를 구매할 수 있다.
  - 시스템의 초기 아키텍처를 결정짓는 첫 단계는 액터와 유스케이스를 식별하는 일이다.

## 유스케이스 분석
<img width="606" alt="(4)" src="https://user-images.githubusercontent.com/50142323/151648988-34aa4cdf-d406-493f-8f7f-895c564b49fa.png">
 
 - 네가지 액터는 시스템이 변경되어야 할 네가지 주요 근원이다.
 - 시스템을 분할하여 특정 액터를 위한 변경이 나머지 액터에게 전혀 영향을 미치지 않게 해야 한다.
 - 중앙 점선으로된 유스케이스는 추상 유스케이스이다. 이는 범용적인 정책을 담고있으며 다른 유스케이스에서 이를 더 구체화시킨다.

## 컴포넌트 아키텍처

<img width="721" alt="(5)" src="https://user-images.githubusercontent.com/50142323/151649166-9c53a75b-7443-40a4-bcb2-9de726032469.png">
 
 - 이중선 -> 아키텍처 경계
 - 뷰, 프레젠터, 인터랙터, 컨트롤러로 분리된 전형적 분할 방법이다.
 - 대응하는 액터에 따라 카테고리 분리
 - 각 컴포넌트는 단일 .jar 또는 단일 .dll 에 해당한다.
 - Catalog View, Catalog Presenter : 카탈로그 조회라는 추상 유스케이스를 처리. 추상 클래스로 코드화
 - 각 컴포넌트를 독립적으로 컴파일하고 빌드 할 수 있는 환경 구성 시 추후 시스템 변경 양상에 따라 배포 방식 조정 가능

## 의존성 관리
 - 제어흐름 오른쪽 -> 왼쪽
 - 입력이 컨트롤러에서 발생되면 인터랙터에 의해 처리되며 프레젠터가 결과의 포맷을 변경하고 뷰가 화면에 표시된다.
 - 아키텍처가 의존성 규칙을 준수하기 때문에 모든 의존성은 항상 더 높은 수준의 정책을 포함하는 컴포넌트로 향한다.
 - 사용관계(열린 화살표)는 제어흐름과 같은방향을 가리키며 상속관계(닫힌 화살표)는 제어흐름과는 반대 방향을 가리키며 이는 개방 폐쇄 원칙을 적용했음을 보여준다.
 - 따라서 저수준의 세부사항의 변경이 고수준에 영향을 미치지 않음을 보장할수 있다.



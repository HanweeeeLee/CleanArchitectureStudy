# 15. 아키텍처란?
소프트웨어 아키텍트란? 소프트웨어 아키텍트는 프로그래머이며, 앞으로도 계속 프로그래머로 남는다.  
소프트웨어 시스템의 아키텍처란 시스템을 구축했던 사람들이 만들어낸 시스템의 형태이다. 그 모양은 시스템을 컴포넌트로 분할하는 방법, 분할된 컴포넌트를 배치하는 방법, 컴포넌트가 서로 의사소통하는 방식에 따라 정해진다. 그리고 그 형태는 아키텍처 안에 담긴 소프트웨어 시스템이 쉽게 개발, 배포, 운영, 유지보수되도록 만들어진다.  

## 개발
시스템 아키턱처는 개발팀이 시스템을 쉽게 개발할 수 있도록 뒷받침해야만 한다.  
개발팀이 작다면 개발 초기에는 아키텍처 관련 제약들이 오히려 방해가 된다고 여길 수 있다. 
반면 개발팀이 크다면 인터페이스를 갖춘, 잘 설계된 컴포넌트 단위로 분리하지 않으면 개발이 진척되지 않는다. 다른 요소를 고려하지 않는다면 시스템의 아키텍처는 각각의 컴포넌트로 발전될 가능성이 높다. 이런 구조는 배포, 운영, 유지보수할때 최적일 수 없다.  

## 배포
배포 비용이 높을수록 시스템의 유용성은 떠러진다. 따라서 소프트웨어 아키텍처는 시스템을 단 한 번에 쉽게 배포할 수 있도록 만드는 데 그 목표를 두어야한다.  
예를들어 개발 초기 단계에 개발자가 마이크로서비스 아키텍처를 사용하자고 결정할 수도 있다. 하지만 배포할 시기가 되면 수많은 마이크로 서비스를 발견하게 될지도 모른다. 마이크로서비스들을 서로 연결하기 위해 설정하고 작동 순서를 결정하는 과정에서 오작동이 발생할 수 있다.  
만약 아키텍트가 배포 문제를 초기에 고려했다면 이와는 다른 결정을 내렸을 것이다.  
ex) 더 적은 서비스를 사용, 서비스 컴포넌트와 프로세스 수준의 컴포넌트를 하이브리드 형태로 융합, 좀 더 통합된 도구를 사용하여 상호연결을 관리

## 운영
운영에서 겪는 대다수 어려움은 소프트웨어 아키텍처에는 극적인 영향을 주지 않고도 단순히 하드웨어를 더 투입해서 해결할 수도 있다.  
하드웨어는 값싸고 인력은 비싸다는 말이 있다. 다만 이말은 운영보단 개발, 배포, 유지보수 쪽으로 리소스를 더 쏟으라는 말..  
좋은 소프트웨어 아키텍처는 시스템을 운영하는 데 필요한 요구도 알려준다. 시스템 아키텍처는 유스케이스, 기능, 시스템의 필수 행위를 일급 엔티티로 격상시키고, 이들 요소가 개발자에게 주요 목표로 인식되도록 해야한다.  

## 유지보수
유지보수는 모든 측면에서 봤을 때 소프트웨어 시스템에서 비용이 가장 많이 든다.  
유지보수의 가장 큰 비용은 탐사(spelunking)와 이로 인한 위험부담에 있다.  
탐사란 기존 소프트웨어에 새로운 기능을 추가하거나 결함을 수정할 때, 소프트웨어를 파헤쳐서 어디를 고치는게 최선인지, 그리고 어떤 전략을 쓰는게 최적일지를 결정할 때 드는 비용이다.  
이러한 변경사항을 반영할 때 의도치 않은 결함이 발생할 가능성은 항상 있고, 비용 또한 추가된다.  
주의를 기울여 아키텍처를 만들면 이 비용을 줄일 수 있다. 시스템을 컴포넌트로 분리하고, 안정된 인터페이스를 두어 서로 격리한다.  

## 선택사항 열어 두기
소프트웨어는 두 종류의 가치, 즉 행위적 가치와 구조적 가치를 지닌다. 이 중 두번째 가치가 더 중요한데, 소프트웨어를 부드럽게 만드는 것은 바로 이 구조적 가치이기 떄문이다.  
소프트웨어를 부드럽게 유지하는 방법은 선택사항을 가능한 한 많이, 그리고 가능한 한 오랫동안 열어 두는 것이다. 그렇다면 열어 둬야 할 선택사항이란 무엇일까? 그것은 중요치 않은 세부사항(detail)이다.  
모든 소프트웨어 시스템은 정책과 세부사항으로 나눌 수 있다.  
아키텍트의 목표는 시스템에서 정책을 가장 핵심적인 요소로 식별하고, 동시에 세부사항은 정책에 무관하게 만들 수 있는 형태의 시스템을 구축하는데 있다.  
ex)  
 - 개발 초기에는 데이터베이스 시스템을 선택할 필요가 없다. 고수준의 정책은 어떤 종류의 데이터베이스를 사용하는지 신경 써서는 안 된다. 
 - 개발 초기에는 웹 서버를 선택할 필요가 없다. 고수준의 정책은 자신이 웹을 통해 전달된다는 사실을 알아서는 안 된다. 심지어는 시스템을 웹을 통해 전송할 것인지조차 결정할 필요가 없다.
 - 개발 초기에는 REST를 적용할 필요가 없다. 고수준의 정책은 외부 세계로의 인터페이스에 대해 독립적이어야 하기 떄문이다.  
 - 개발 초기에는 의존성 주입 프레임워크를 적용할 필요가 없다. 고수준의 정책은 의존성을 해석하는 방식에 대해 신경 써서는 안 된다.

세부사항에 몰두하지 않은 채 고수준의 정책을 만들 수 있다면, 더 많은 정보를 얻을 수 있고, 이를 기초로 제대로 된 결정을 내릴 수 있다.  
  
좋은 아키텍트는 결정되지 않은 사항의 수를 최대화한다.



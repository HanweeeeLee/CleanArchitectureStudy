# 23. 프레젠터와 험블 객체

프레젠터는 험블 객체(Humble Object, 대강 만든 객체) 패턴을 따른 형태로, 아키텍처 경계를 식별하고 보호하는 데 도움이 된다. 

## 험블 객체 패턴
험블 객체 패턴은 디자인 패턴으로, 테스트하기 어려운 행위와 테스트하기 쉬운 행위를 분리하기 쉽게 하는 방법으로 고안되었다.
 - 두개의 모듈 또는 클래스로 분리 하되 테스트하기 어려운 행위를 한곳으로 옮기는데 이는 험블 객체가 된다.
 - 예를 들어 GUI의 경우 화면을 보며 요소들이 필요한 위치에 표시되었는지 단위 테스트가 어렵다. 하지만 GUI에서 수행되는 행위는 쉽게 테스트 가능하다.
 - 이 부류의 행위를 험블 객체 패턴을 사용하면 프레젠터와 뷰로 나눌 수 있다.

## 프레젠터와 뷰
 - 프레젠터는 테스트하기 쉬운 객체이며 프레젠터의 역할은 애플리케이션으로부터 데이터를 받아 화면에 표현할 수 있는 포맷으로 만드는 것이다.
 - 뷰는 험블 객체이고 테스트하기 어렵다. 뷰는 데이터를 GUI로 이동시키지만, 데이터를 직접 처리하지는 않는다. 

## 테스트와 아키텍처
좋은 아키텍처는 테스트 용이성을 지녀야한다.
 - 험블 객체 패턴이 좋은 예인데, 행위를 테스트하기 쉬운 부분과 어려운 부분으로 분리하면 아키텍처 경계가 정의되기 때문이다.
 - 프레젠터와 뷰 사이의 경계는 이러한 경계중 하나이며, 수많은 경계가 존재한다.

## 데이터베이스 게이트웨이
유스케이스 인터랙터와 데이터베이스 사이에는 데이터베이스 게이트웨이가 위치한다. 
이 게이트웨이는 다형적 인터페이스로, 애플리케이션이 데이터베이스에 수행하는 CRUD 작업과 관련된 모든 메서드를 포함한다. 
 - 유스케이스 계층은 SQL을 허용하지 않기 때문에 게이트웨이 인터페이스를 호출하며 이 인터페이스의 구현체는 데이터베이스 계층에 존재하며 직접 SQL을 사용하기에 험블객체이다.
 - 이와 달리 인터랙터는 애플리케이션에 특화된 업무 규칙을 캡슐화하기 때문에 험블 객체가 아니다.

## 서비스 리스너
애플리케이션이 다른 서비스(server)와 통신해야 하거나 일련의 서비스를 제공해야 한다면 어떨까?
 - 이 경우에도 서비스 경계를 생성하는 험블 객체 패턴을 발견할 수 있다.
 - 서비스 리스너가 서비스 인터페이스로부터 데이터를 수신하고, 데이터를 애플리케이션에서 사용할 수 있게 간단한 데이터 구조로 포맷을 변경한다.
 - 그 후 이 데이터 구조는 서비스 경계를 가로질러서 내부로 전달된다.

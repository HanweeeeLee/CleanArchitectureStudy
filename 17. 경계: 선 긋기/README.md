# 17. 경계: 선 긋기
> 이른결정이란? 시스템의 업무 요구사항 즉, 유스케이스와 관련없는 프레임워크, 데이터베이스등을 결정하는것을 말한다.

> 이른결정에 따른 결합을 없애기위해 소프트웨어 요소를 서로 분리해야한다. 이를 선을 긋는다고 표현한다. 

> 소프트웨어 아키텍처는 선을 긋는 기술이고, 이런 선을 경계(boundary)라고 부른다.
 - 경계는 한편에 있는 요소가 반대편에 있는 요소를 알지 못하도록 막는다.
 - 프로젝트 초기에 작성되는 경우도 있고, 매우 나중에 그어지는 경우도 있다.
 - 초기에 경계를 긋는 경우는 가능한 한 결정을 오랫동안 연기시키기 위해. 즉, 핵심적인 업무 로직을 오염시키지 못하게 만들려는 목적

## 좋은 사례 - FitNesse
 - FitNesse 개발 프로그래머들은 개발 초기 업무 규칙과 데이터베이스 사이에 경계선을 그었다.
 - 이 경계선을 통해 업무 규칙은 데이터 접근 메서드 외에는 데이터베이스의 어떤 것도 알지 못했고, 초기 개발기간의 일년이 넘는 동안 데이터베이스를 선택하고 구현하는 일을 미뤘다.
 - 경계선을 긋는 행위는 결정을 늦추고 연기하는데 도움을 주며, 궁극적으로는 시간의 절약을 가져왔다.

## 어떻게 선을 그을까? 그리고 언제 그을까?
 - 선은 관련있는것과 없는것 사이에 긋는다.
 - GUI는 업무 규칙과는 관련없기에 선을 긋는다.
 - 데이터베이스는 GUI와 관련이 없으므로 이 둘 사이에도 선이 있어야한다.
![다운로드](https://user-images.githubusercontent.com/50142323/147644075-6abfa5df-b7fd-42d6-ac26-17cfe1d3284e.png)
 - 위 그림을 보면 경계선은 Interface, Database Access사이에 그어진다. 화살표의 방향을 보면 Database Access를 알고있는 클래스는 없다.
![117563556-c4c05000-b0e1-11eb-9f3e-303fec812720](https://user-images.githubusercontent.com/50142323/147652393-e7490287-a36a-456a-b7ed-bcffb4c7f04d.png)
 - 큰 개념으로 보자면 Business Rules 컴포넌트안에 Database Interface를 Database 컴포넌트안에 Database Access가 의존하고있다.
 - 화살표 방향은 Business Rules 컴포넌트를 향하고있기 때문에 Business Rules에서는 어떤 종류의 데이터베이스도 사용할수 있음을 알수있으며, Database 컴포넌트는 다른 구현체로도 교체될 수 있다.

## 입력과 출력은?
 - 위의 Business Rules 컴포넌트와 Databse 컴포넌트의 관계와 같이 Business 컴포넌트는 GUI 컴포넌트를 신경쓰지 않는다. 마찬가지로 GUI는 다른 종류의 인터페이스로 교체할 수 있다.
![다운로드](https://user-images.githubusercontent.com/50142323/147652706-01cab1e6-da08-47a4-a27c-8183cef0e201.png)

## 플러그인 아키텍처
데이터베이스와 GUI에 대해 내린 두가지 결정을 하나로 합쳐서 보면 컴포넌트 추가와 관련한 일종의 패턴이 만들어진다.
![다운로드 (1)](https://user-images.githubusercontent.com/50142323/147652988-f1d307da-5e00-45f8-aa88-a6661157a44f.png)
이 패턴은 시스템에서 서드파티 플러그인을 사용할 수 있게 한 패턴과 동일하다. 
소프트웨어 개발 기술의 역사는 플러그인을 손쉽게 생성하여, 확장 가능하며 유지보수가 쉬운 시스템 아키텍처를 확립할 수 있게 만드는 방법에 대한 이야기다.


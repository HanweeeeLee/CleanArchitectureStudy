# 34. 빠져 있는 장

## 계층 기반 패키지
단순한 설계방식으로 수평 계층형 아키텍처가있다. 
기술적인 관점에서 해당코드가 하는일(service, repository 등)에 기반해서 그 코드를 계층으로 분할하는것을 계층기반 패키지라 부른다. 
 
 
<img width="219" alt="다운로드 (1)" src="https://user-images.githubusercontent.com/50142323/151651244-62f8442d-6ea1-4060-aba1-707bfb1364e0.png">

이러한 계층형 아키텍처는 복잡함을 겪지않고 무언가를 작동시켜주지만 업무 도메인에 대해 아무것도 말해주지 않는다.
 - 전혀 다른 업무도메인이라도 코드를 계층형 아키텍쳐로 만들어 나란히 놓고보면 웹, 서비스, 레파지토리로 구성된 모습이 비슷하게 보이기 때문이다.

## 기능 기반 패키지
서로 연관된 기능, 도메인 개념, 또는 Aggregate Root에 기반하여 수직의 얇은 조각으로 코드를 나누는 방식이다.
![다운로드 (2)](https://user-images.githubusercontent.com/50142323/151651353-19ae6389-2fda-4c36-a38a-66f019cf79b4.png)

인터페이스와 클래스는 이전과 같지만 모두가 order라는 단 하나의 패키지에 속하게 된다.
 - 따라서 상위 수준 구조가 업무 도메인에 대해 무엇인가를 알려주게 된다.
 - 또한 '주문 조회하기' 유스케이스가 변경될 경우 order라는 한 패키지만 찾으면되기 때문에 수월해진다. 

> 계층기반, 기능기반 둘 중 무엇이 더 낫다 라기보단 저자는 두 접근법 모두 차선책이라고 말한다.


## 포트와 어댑터

## 컴포넌트 기반 패키지

## 구현 세부사항엔 항상 문제가 있다.

## 조직화 vs. 캡슐화

## 다른 결합 분리 모드

# 13. 컴포넌트 응집도
어떤 클래스를 어떤 컴포넌트에 포함시켜야 할까? 컴포넌트 응집도와 관련된 세 가지 원칙
 - REP: 재사용/릴리스 등가 원칙(Reuse/Release Equivalence Principle)
 - CCP: 공통 폐쇄 원칙(Common Closure Principle)
 - CRP: 공통 재사용 원칙(Common Reuse Principle)

## REP: 재사용/릴리스 등가 원칙
> 재사용 단위는 릴리스 단위와 같다.  

소프트웨어 컴포넌트가 릴리즈 절차를 통해 추적 관리되지 않거나 릴리즈 번호가 부여되지 않는다면 해당 컴포넌트를 재사용 할 수 없다.  
1. 재사용 컴포넌트들이 서로 호환되는지 보증할 방법이 전혀 없다.
2. 새로운 버전이 언제 출시되고 무엇이 변했는지를 소프트웨어 개발자들이 알아야 하기 떄문이다. 
3. 릴리즈 절차에는 적절한 공지와 함께 릴리즈 문서 작성도 포함되어야 한다.  


이 원칙을 소프트웨어 설계와 아키텍쳐 관점에서 보면 단일 컴포넌트는 응집성 높은 클래스와 모듈들로 구성되어야 함을 뜻한다.  
-> 하나의 컴포넌트로 묶인 클래스와 모듈들은 반드시 함께 릴리즈할 수 있어야 한다. 하나의 컴포넌트로 묶인 클래스와 모듈은 버전 번호가 같아야 하며, 동일한 릴리즈로 추적 관리되고, 동일한 릴리즈 문서에 포함되어야 한다.  

## CCP: 공통 폐쇄 원칙
### 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라. 서로 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리하라.  
이 원칙은 단일 책임 원칙(SRP)을 컴포넌트 관점에서 다시 쓴 것이다.  

#### SRP와의 유사성
동일한 시점에 동일한 이유로 변경되는 것들을 한데 묶어라. 서로 다른 시점에 다른 이유로 변경되는 것들은 서로 분리하라.

## CRP: 공통 재사용 원칙
> 컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라.  


개별 클래스가 단독으로 재사용되는 경우는 거의 없다. 대체로 재사용 가능한 클래스는 재사용 모듈의 일부로써 해당 모듈의 다른 클래스와 상호작용하는 경우가 많다. CRP에서는 이런 클래스들이 동일한 컴포넌트에 포함되어야 한다고 말한다.  
### ex) Container클래스와 해당 클래스의 iterator
> 서로 강하게 결합되어 있기 때문에 함께 재사용된다. 따라서 이들 클래스는 반드시 동일한 컴포넌트에 위치해야 한다.  

### 1. CRP는 각 컴포넌트에 어떤 클래스들을 포함시켜야 하는지를 설명해준다.
### 2. CRP는 동일한 컴포넌트로 묶여서는 안되는 클래스가 무엇인지도 말해준다. 
-> 어떤 컴포넌트가 다른 컴포넌트를 사용하면, 두 컴포넌트 사이에는 의존성이 생겨난다. 어쩌면 사용하는 컴포넌트가 사용되는 컴포넌트에서 단 하나의 클래스만. 사용할 수도 있다. 그렇다고 의존성은 약해지지 않는다.  
이 같은 의존성으로 인해 사용되는 컴포넌트가 변경될 때마다 사용하는 컴포넌트도 변경해야 할 가능성이 높다.  
또는 사용하는 컴포넌트를 변경하지 않더라도, 재컴파일, 재검증, 재배포를 해야 하는 가능성은 여전히 남아 있다. 심지어 사용되는 컴포넌트에서 발생한 변경이 사용하는 컴포넌트와는 전혀 관련이 없더라도...  

### ISP와의 관계
CRP는 인터페이스 분리원칙(ISP)의 포괄적인 버전이다. (메서드 -> 클래스)
> 필요하지 않은 것에 의존하지 말라.

## 컴포넌트 응집도에 대한 균형 다이어그램
ERP와 CCP는 포함원칙. CRP는 배제 원칙
![image](https://user-images.githubusercontent.com/60125719/145020261-9251a4ea-7fbb-4976-a0c6-c7ff0200a9d8.png)
> 응집도에 관한 세 원칙이 서로 어떻게 상호작용하는지 보여준다. 다이어그램의 각 변은 반대쪽 꼭지점에 있는 원칙을 포기했을 떄 감수해야 할 비용을 나타낸다.
1. 뛰어난 아키텍트라면 이 균형 삼각형에서 개발팀이 현재 관심을 기울이는 부분을 충족시키는 위치를 찾아야한다. 
2. 시간이 흐르면서 개발팀이 주의를 기울이는 부분 역시 변한다는 사실도 이해하고 있어야 한다.




























































